# 项目快速启动 Checklist.md

## 前置环境检查
- [ ] 已安装 Python 3.7+（推荐 3.8-3.10 版本）
- [ ] 已安装 MongoDB 并启动服务（默认端口 27017）
- [ ] 已安装 Redis 并启动服务（默认端口 6379）
- [ ] 网络环境正常（可访问拉勾网）


## 依赖安装验证
- [ ] 执行 `pip install scrapy pymongo redis pandas` 无报错
- [ ] 验证安装：运行 `python -c "import scrapy; import pymongo; import redis; import pandas"` 无模块错误


## 项目配置核对
- [ ] 检查 `lagou/settings.py` 中 MongoDB 配置：
  ```python
  MONGO_URI = 'mongodb://192.168.65.119:27017/'  # 改为本地 MongoDB 地址（如 localhost）
  MONGO_DATABASE = 'lagou_db'  # 数据库名称可自定义
  ```
- [ ] 检查 `lagou/settings.py` 中 Redis 配置：
  ```python
  REDIS_HOST = '192.168.65.119'  # 改为本地 Redis 地址（如 localhost）
  REDIS_PORT = 6379
  ```
- [ ] 配置反爬参数（可选）：
  ```python
  DOWNLOAD_DELAY = 2  # 建议设置为 1-3 秒
  ```


## 核心功能测试
### 1. 数据爬取测试
- [ ] 职位分类爬取：
  1. 修改 `lagou/main.py` 启用 `positionCategory` 爬虫
  2. 运行 `python lagou/main.py`，控制台无报错
  3. 验证：Redis 中存在职位分类键值对（可通过 `redis-cli keys *` 查看）

- [ ] 职位详情爬取：
  1. 恢复 `lagou/main.py` 启用 `job` 爬虫
  2. 运行 `python lagou/main.py`，控制台显示爬取进度
  3. 验证：MongoDB 中 `job_details` 集合有数据新增


### 2. 数据处理测试
- [ ] MongoDB 转 CSV：
  1. 打开 `MongoDb2Csv/MongodbToCsv.py`，修改查询条件（如职位名称）
  2. 运行脚本，生成 CSV 文件且无空行
  3. 验证：CSV 文件包含预期字段（如职位名称、薪资）

- [ ] CSV 缺失值处理：
  1. 准备含缺失值的 CSV 文件（可使用上一步导出的文件）
  2. 运行 `DataProcess/DataProcessing.py`，选择填充或删除方法
  3. 验证：输出 CSV 中无缺失值（或已删除含缺失值的行）


### 3. 数据库连接测试
- [ ] 运行 `test/demoMongodb.py`，控制台输出查询结果（无连接错误）
- [ ] 运行 `test/demoRedis.py`，控制台显示 "Redis 操作成功"


## 常见问题排查
- [ ] 若爬取无响应：检查网络/反爬配置，尝试更换 User-Agent（参考 `反爬机制.md`）
- [ ] 若数据库连接失败：确认服务已启动，地址/端口与 `settings.py` 一致
- [ ] 若依赖冲突：使用虚拟环境（`python -m venv venv`）重新安装依赖


## 启动完成标志
- [ ] 至少成功爬取 10 条职位数据并存储到 MongoDB
- [ ] 成功将 MongoDB 数据导出为 CSV 文件
- [ ] 成功处理 CSV 缺失值

✅ 完成以上所有检查项，项目即可正常运行！